# Phase 5: Damage Detection System

## Edge Detection
- [ ] Create DamageDetectionService.swift
- [ ] Implement Canny edge detection
- [ ] Find card corners precisely
- [ ] Detect edge wear/whitening
- [ ] Measure corner sharpness

## Surface Analysis
- [ ] Create scratch detection algorithm
- [ ] Use gradient analysis for creases
- [ ] Detect surface indentations
- [ ] Find print lines/banding
- [ ] Identify scuff marks

## Color Analysis
- [ ] Detect fading/sun damage
- [ ] Compare to reference colors
- [ ] Find water damage stains
- [ ] Identify ink inconsistencies
- [ ] Measure overall color deviation

## Damage Heatmap
- [ ] Create DamageOverlayView.swift
- [ ] Generate damage intensity map
- [ ] Overlay transparent heatmap
- [ ] Use red/yellow/green gradient
- [ ] Allow toggle on/off

## Condition Grading
- [ ] Map damage to PSA scale (1-10)
- [ ] Calculate BGS subgrades
- [ ] Estimate condition category
- [ ] Show grading breakdown
- [ ] Explain grade factors